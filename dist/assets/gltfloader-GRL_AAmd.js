import"./modulepreload-polyfill-9p4a8sJU.js";import{S as w,W as l,C as d,P as h,H as p,e as u,D as f,c as g,M as L,L as S,E as b,f as M,V as H}from"./three.module-4M6b5P8X.js";import{O as P}from"./OrbitControls-pWFGRx1_.js";import{G as v}from"./GLTFLoader-jA46wvqJ.js";import{E as y,R as C,U as x}from"./UnrealBloomPass-6fYcd8dM.js";const s={exposure:0,bloomStrength:1.5,bloomThreshold:0,bloomRadius:0};function E(){const o=document.getElementById("three"),n=new w,t=new l({canvas:o,antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),n.background=new d(12303291),{scene:n,renderer:t}}function R(o){const n=new h(45,window.innerWidth/window.innerHeight,.1,100);return n.position.set(-.75,.7,1.25),o.add(n),n}function W(o){const n=new p(16777215,16777215,2);n.color.setHSL(.6,1,.6),n.position.set(0,50,0),n.layers.set(0),o.add(n);const t=new u(n,2);o.add(t);const i=new f(16777215,1);i.color.setHSL(.1,1,.95),i.position.set(-1,1.75,1),i.position.multiplyScalar(30),o.add(i),i.castShadow=!0,o.add(i)}function D(o){new v().setPath("/public/models/gltf/").load("cdtf.glb",function(n){o.add(n.scene);const t=new Set,i=new Map;n.scene.traverse(e=>{e.layers.set(0),e.isMesh&&(e.castShadow=!0,t.add(e.material))});for(const e of t)if(e.name.indexOf("光源")!==-1||e.name.indexOf("发光")!==-1){const r=new g({emissive:new d(1,1,.1),color:e.color,name:e.name});i.set(e,r)}else{const r=new L({color:e.color,name:e.name,map:e.map});i.set(e,r)}n.scene.traverse(e=>{if(e.isMesh){const r=i.get(e.material);e.material=r}}),new Array;const a=new S({color:0,linewidth:1});n.scene.traverse(e=>{if(e.type==="Mesh"){const c=e;var r=new b(c.geometry,45),m=new M(r,a);c.add(m)}})})}function T(o,n){const t=new P(o,n.domElement);return t.enableDamping=!0,t.minDistance=1,t.maxDistance=50,t.target.set(0,.35,0),t.update(),t}function G(o,n,t){const i=new y(o),a=new C(n,t),e=new x(new H(window.innerWidth,window.innerHeight),1.5,.4,.85);return e.threshold=s.bloomThreshold,e.strength=s.bloomStrength,e.radius=s.bloomRadius,i.addPass(a),i}function O(){const{scene:o,renderer:n}=E(),t=R(o);D(o),W(o);const i=T(t,n),a=G(n,o,t);window.addEventListener("resize",()=>{t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),e();function e(){requestAnimationFrame(e),i.update(),r()}function r(){a.render()}}O();
